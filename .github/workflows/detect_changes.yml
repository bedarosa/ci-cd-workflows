name: Detect Changes

on:
    pull_request:
        types:
            - closed

jobs:
    label-pr:
        runs-on: ubuntu-latest
        name: Test changed-files
        steps:
        - uses: actions/checkout@v4

        - name: Get changed files
          id: changed-files
          uses: tj-actions/changed-files@v45
            # To compare changes between the current commit and the last pushed remote commit set `since_last_remote_commit: true`. e.g
            # with:
            #   since_last_remote_commit: true 

        - name: List all changed files
          env:
            ALL_CHANGED_FILES: ${{ steps.changed-files.outputs.all_changed_files }}
          run: |
            for file in ${ALL_CHANGED_FILES}; do
                echo "$file was changed"
            done
        